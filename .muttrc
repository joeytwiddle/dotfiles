## ~/.muttrc
## (see: http://www.mutt.org/links.html#config)

## TODO

set record = "$HOME/Mail/sent-mail-mutt"
set save_name

## Colours:
color indicator white magenta
color hdrdefault blue black
color header brightcyan default "^From: "
color header brightcyan default "^To: "
color header brightgreen default "^Subject: "
color header brightred default "^X-Spam"
color header magenta default "^List"
color quoted yellow black
color status white blue
color tree green default

## Settings (see: /usr/share/doc/mutt/html/manual-6.html#variables)
set move = no
unset mark_old
set pager_stop
set pager_index_lines = 8
set folder_format = "%2C%N %-4.4u:%-4.4g  %d %6s  %f"
set index_format = "%S%T %[%d/%b] %-12.12L (%4l) %s"
set to_chars = "? +C@L"
## Headers to display:
ignore *
unignore from date subject to cc
unignore organization organisation x-mailer: x-newsreader: x-mailing-list:
unignore posted-to:

## Commands to run when entering particular folders:
folder-hook . set sort=date-sent
folder-hook Lists set sort=threads

## Keybindings (see: /usr/share/doc/mutt/html/manual-6.html#functions)
# macro generic "c" <mail>
# macro generic "i" <view-file>
# macro generic "l" <change-folder>"?"
macro generic <left> <exit>
## Browser:
# macro browser <left> <exit><exit>
macro browser <left> "<Home><Enter>"
macro browser <right> <select-entry>
macro browser "Q" <exit><exit>
## Index and pager: (mutt bug: refreshes only half work in pager)
macro index "Q" <exit><exit>
macro pager "Q" <exit><exit>
macro index "c" <mail>
macro pager "c" <mail>
macro index "l" <change-folder>"?"
macro pager "l" <change-folder>"?"
## For some reason these "\Ck"s no longer work in index
# Sort by thread
macro index "\Ct" ":set sort=threads<Enter>"
macro pager "\Ct" ":set sort=threads<Enter><refresh>"
# Sort by person
macro index "\Cp" ":set sort=from<Enter>"
macro pager "\Cp" ":set sort=from<Enter><refresh>"
# Show name
macro index "\Cn" ":set index_format = \"%S%T %[%d/%b] %-12.12L (%4l) %s\"<Enter>"
macro pager "\Cn" ":set index_format = \"%S%T %[%d/%b] %-12.12L (%4l) %s\"<Enter><refresh>"
# Show email address (who)
macro index "\Cw" ":set index_format = \"%S%T %[%d/%b] %-25.25a %-20.20t (%4l) %s\"<Enter>"
macro pager "\Cw" ":set index_format = \"%S%T %[%d/%b] %-25.25a %-20.20t (%4l) %s\"<Enter><refresh>"
## Index:
macro index <left> <change-folder>"?"
macro index <right> <display-message>
## Pager:
macro pager "\Ci" ":set pager_index_lines = 0<Enter>"
macro pager "\Co" ":set pager_index_lines = 20<Enter>"
macro pager <left> <exit>
macro pager <up> <previous-entry>
macro pager <down> <next-entry>
macro pager <pageup> <half-up>
macro pager <pagedown> <half-down>
macro pager "u" <half-up>
# Actually best left as default up one line, which matches <return> =)
# macro pager <backspace> <half-up>
macro pager <space> <half-down>
macro pager <right> <view-attachments>

## Generic:
macro generic ":0<Return>" <first-entry>
macro generic ":$<Return>" <last-entry>
macro generic "?" <search-reverse>
## and because ? was help...
macro generic \H <help>
macro generic \h <help>
macro generic <Esc>h <help>
macro generic <f1> <help>
macro generic ":h" <help>
##
macro browser "N" <search-opposite>
macro index "N" <search-opposite>
macro pager "N" <search-opposite>
### don't work:
# macro generic "\Cy" <decrypt-copy>
# macro generic "\Cy" <decrypt-save>

## Spamassasin:
# quick assess
macro index "XL" "| spamassassin -t -L | grep \^SPAM | highlight '\(.*hits.*required\)'<Enter>"
macro pager "XL" "| spamassassin -t -L | grep \^SPAM | highlight '\(.*hits.*required\)'<Enter>"
# full assess
macro index "X?" "| spamassassin -t | grep \^SPAM | highlight '\(.*hits.*required\)'<Enter>"
macro pager "X?" "| spamassassin -t | grep \^SPAM | highlight '\(.*hits.*required\)'<Enter>"
# report and delete
macro index "XX" "| spamassassin -r<Enter>d"
macro pager "XX" "| spamassassin -r<Enter>d"

## Addresbook / aliases:
# source ~/.mail_aliases
# set alias_file=~/.mail_aliases
# set query_command="abook --mutt-query '%s'" noconfirmappend
## Run addressbook:
macro index \A "!abook\n" "Abook"
macro pager \A "!abook\n" "Abook"
## Edit the email aliases in special file:
macro index \ea "!$EDITOR ~/.mutt/aliases\n:source ~/.mutt/aliases\n" "Edit aliases file and reload it"
macro pager \ea "!$EDITOR ~/.mutt/aliases\n:source ~/.mutt/aliases\n" "Edit aliases file and reload it"

## Addressbook aliases straight in .muttrc =)
alias cat Catherine Rachel Slicer <catslicer@hotmail.com>
alias tim TRJ Langford <langford@cs.bris.ac.uk>
alias erik Erik <erik@eempson.freeserve.co.uk>
alias sharon Sharon <curliemeg@yahoo.com>
alias friends cat,tim,erik,sharon
alias megan_humphries Megan Humphries <megan_humphries@hotmail.com>
